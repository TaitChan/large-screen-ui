(self["webpackChunklarge_screen_ui"]=self["webpackChunklarge_screen_ui"]||[]).push([[641],{19641:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>ge});var n=l(73396),i=l(87139),o={class:"container"},s={class:"header"},a={class:"main"},c={class:"mid"};function u(e,t,l,u,r,d){var m=(0,n.up)("homepage-header"),h=(0,n.up)("homepage-left"),p=(0,n.up)("homepage-mid"),f=(0,n.up)("homepage-rules"),v=(0,n.up)("homepage-right");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",s,[(0,n.Wm)(m)]),(0,n._)("div",a,[(0,n._)("div",{class:(0,i.C_)(["left",r.isOpenLeft?"":"close-left"])},[(0,n.Wm)(h),(0,n._)("div",{class:"left_is_open",onClick:t[0]||(t[0]=function(e){return r.isOpenLeft=!r.isOpenLeft})},(0,i.zw)(r.isOpenLeft?"off":"on"),1)],2),(0,n._)("div",c,[(0,n.Wm)(f,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(p)]})),_:1})]),(0,n._)("div",{class:(0,i.C_)(["right",r.isOpenRight?"":"close-right"])},[(0,n.Wm)(v),(0,n._)("div",{class:"right_is_open",onClick:t[1]||(t[1]=function(e){return r.isOpenRight=!r.isOpenRight})},(0,i.zw)(r.isOpenRight?"off":"on"),1)],2)])])}var r=function(e){return(0,n.dD)("data-v-63027045"),e=e(),(0,n.Cn)(),e},d={class:"ctv-header"},m=(0,n.Uk)(" 发布 "),h=r((function(){return(0,n._)("i",{class:"el-icon-view"},null,-1)})),p=(0,n.Uk)(" 预览 ");function f(e,t,l,i,o,s){var a=(0,n.up)("svg-icon"),c=(0,n.up)("el-button");return(0,n.wg)(),(0,n.iD)("div",d,[(0,n.Wm)(c,{link:"",type:"primary"},{default:(0,n.w5)((function(){return[(0,n.Wm)(a,{"icon-class":"跳转"}),m]})),_:1}),(0,n.Wm)(c,{link:"",type:"primary"},{default:(0,n.w5)((function(){return[h,p]})),_:1})])}var v=l(67147);const g={name:"homepage-header",components:{SvgIcon:v["default"]}};var w=l(40089);const _=(0,w.Z)(g,[["render",f],["__scopeId","data-v-63027045"]]),y=_;var V={class:"left-container"},C={class:"model-list"},M=["onClick"],D={key:0,class:"chart-list"},b=["onDragstart"];function x(e,t,o,s,a,c){var u=(0,n.up)("svg-icon"),r=(0,n.up)("el-image");return(0,n.wg)(),(0,n.iD)("div",V,[(0,n._)("ul",C,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.modelList,(function(e){return(0,n.wg)(),(0,n.iD)("li",{key:e.label,onClick:function(t){return a.activeType=e.value},class:(0,i.C_)(a.activeType===e.value?"active":"")},[(0,n.Wm)(u,{"icon-class":e.icon},null,8,["icon-class"]),(0,n._)("span",null,(0,i.zw)(e.label),1)],10,M)})),128))]),"chart"===a.activeType?((0,n.wg)(),(0,n.iD)("ul",D,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.chartList,(function(e){return(0,n.wg)(),(0,n.iD)("li",{key:e.label,draggable:"true",onDragstart:function(t){return c.dragstart(t,e)}},[(0,n._)("div",null,(0,i.zw)(e.label),1),(0,n.Wm)(r,{src:l(61650)("./"+e.picUrl+".png"),style:{height:"100px"}},null,8,["src"])],40,b)})),128))])):(0,n.kq)("",!0)])}var I=l(58650),k=(0,I.Q_)("screen",{state:function(){return{screenWidth:1440,screenHeight:900,scale:50,bgColor:"#F5FAFE",layoutColor:"rgba(255,255,255,0)",layoutBorder:!1,dragstartDom:{}}},getters:{},actions:{setDragstartDom:function(e){this.dragstartDom=e}}}),Y=[{label:"柱状图",picUrl:"bar-simple",cardId:"bar-simple",w:400,h:400},{label:"折线图",picUrl:"line-simple",cardId:"line-simple",w:400,h:400},{label:"饼图",picUrl:"pie-simple",cardId:"pie-simple",w:400,h:400}],W=[{cardId:"bar-simple",title:"柱状图",description:"柱状图",w:400,h:400,x:0,y:0,id:1},{cardId:"line-simple",title:"折线图",description:"折线图",w:400,h:400,x:400,y:0,id:2},{cardId:"pie-simple",title:"饼图",description:"饼图",w:400,h:400,x:400,y:400,id:3}];const X={name:"homepage-left",components:{SvgIcon:v["default"]},setup:function(){var e=k(),t=e.setDragstartDom;return{setDragstartDom:t}},data:function(){return{activeType:"chart",modelList:[{label:"标题",value:"title",icon:"标题"},{label:"图表",value:"chart",icon:"图表"},{label:"表格",value:"table",icon:"表格"},{label:"其他",value:"other",icon:"其他"}],chartList:Y}},methods:{dragstart:function(e,t){console.log(t),this.setDragstartDom(t)}}},L=(0,w.Z)(X,[["render",x],["__scopeId","data-v-f1b1ce06"]]),H=L;var z={class:"mid_rules"},U={class:"mid_rules_icon"},T={class:"mid_rules_w_box",ref:"midRulesW"},O={class:"mid_rules_h_box",ref:"midRulesH"},j={class:"mid_canvas"},B={class:"mid_footer"};function $(e,t,l,o,s,a){var c=(0,n.up)("svg-icon"),u=(0,n.up)("el-slider");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",z,[(0,n._)("div",U,[(0,n.Wm)(c,{"icon-class":"view"})]),(0,n._)("div",T,[(0,n._)("div",{class:"mid_rules_w",style:(0,i.j5)({gridTemplateColumns:"repeat(auto-fill, ".concat(o.scale,"px)")})},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.rulesWCount,(function(e){return(0,n.wg)(),(0,n.iD)("div",{class:"mid_rules_w_line",key:e},[(0,n._)("p",null,(0,i.zw)(100*(e-1)),1),(0,n._)("div",{class:"mid_rules_w_line_mini",style:(0,i.j5)({gridTemplateColumns:"repeat(auto-fill, ".concat(o.scale/10,"px)")})},[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(10,(function(e){return(0,n._)("span",{key:e})})),64))],4)])})),128))],4)],512),(0,n._)("div",O,[(0,n._)("div",{class:"mid_rules_h",style:(0,i.j5)({gridTemplateRows:"repeat(auto-fill, ".concat(o.scale,"px)")})},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.rulesHCount,(function(e){return(0,n.wg)(),(0,n.iD)("div",{class:"mid_rules_h_line",key:e},[(0,n._)("p",null,(0,i.zw)(100*(e-1)),1),(0,n._)("div",{class:"mid_rules_h_line_mini",style:(0,i.j5)({gridTemplateRows:"repeat(auto-fill, ".concat(o.scale/10,"px)")})},[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(10,(function(e){return(0,n._)("span",{key:e})})),64))],4)])})),128))],4)],512),(0,n._)("div",{class:"mid_canvas_box",onScroll:t[0]||(t[0]=function(){return a.handleScroll&&a.handleScroll.apply(a,arguments)}),ref:"midCanvas"},[(0,n._)("div",j,[(0,n._)("div",{class:"mid_screen",style:(0,i.j5)({zoom:a.scaleVal})},[(0,n.WI)(e.$slots,"default")],4)])],544)]),(0,n._)("div",B,[(0,n.Wm)(u,{class:"scale",modelValue:o.scale,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.scale=e}),step:10,"show-input":"",size:"small",min:50,max:100},null,8,["modelValue"])])],64)}const R={name:"homepage-rules",components:{SvgIcon:v["default"]},props:{},setup:function(){var e=k(),t=(0,I.Jk)(e),l=t.scale;return{scale:l}},data:function(){return{rulesWCount:32,rulesHCount:24}},computed:{scaleText:function(){return this.scale+"%"},scaleVal:function(){return this.scale/100}},methods:{handleScroll:function(){var e=this;this.$nextTick((function(){e.$refs.midRulesH.scrollTop=e.$refs.midCanvas.scrollTop,e.$refs.midRulesW.scrollLeft=e.$refs.midCanvas.scrollLeft}))}}},S=(0,w.Z)(R,[["render",$]]),Z=S;var A=l(49242);function K(e,t,l,o,s,a){var c=(0,n.up)("homepage-location"),u=(0,n.up)("homepage-resize"),r=(0,n.up)("homepage-drag-item");return(0,n.wg)(),(0,n.iD)("div",{style:(0,i.j5)([{background:o.bgColor},{position:"relative",height:"100%",width:"100%"}]),onClick:t[2]||(t[2]=function(){return a.clearActive&&a.clearActive.apply(a,arguments)}),onDrop:t[3]||(t[3]=function(){return a.handleDrop&&a.handleDrop.apply(a,arguments)}),onDragover:t[4]||(t[4]=(0,A.iM)((function(){}),["prevent"]))},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.editItemList,(function(e,l){return(0,n.wg)(),(0,n.j4)(r,{key:e.id,modelValue:s.editItemList[l],"onUpdate:modelValue":function(e){return s.editItemList[l]=e},"is-move":s.isMove,"onUpdate:is-move":t[1]||(t[1]=function(e){return s.isMove=e}),onClick:(0,A.iM)((function(t){return s.activeId=e.id}),["stop"]),"is-active":s.activeId===e.id,scale:o.scale/100,class:(0,i.C_)("".concat(o.layoutBorder?"layout-border":"")),style:(0,i.j5)({background:"".concat(o.layoutColor)})},{default:(0,n.w5)((function(){return[((0,n.wg)(),(0,n.j4)((0,n.LL)(e.cardId),{key:e.id})),s.activeId===e.id&&(s.isMove||s.isCircleMove)?((0,n.wg)(),(0,n.j4)(c,{key:0,modelValue:s.editItemList[l],"onUpdate:modelValue":function(e){return s.editItemList[l]=e}},null,8,["modelValue","onUpdate:modelValue"])):(0,n.kq)("",!0),s.activeId===e.id?((0,n.wg)(),(0,n.j4)(u,{key:1,modelValue:s.editItemList[l],"onUpdate:modelValue":function(e){return s.editItemList[l]=e},"is-move":s.isCircleMove,"onUpdate:is-move":t[0]||(t[0]=function(e){return s.isCircleMove=e}),scale:o.scale/100},null,8,["modelValue","onUpdate:modelValue","is-move","scale"])):(0,n.kq)("",!0)]})),_:2},1032,["modelValue","onUpdate:modelValue","is-move","onClick","is-active","scale","class","style"])})),128))],36)}l(34553),l(40561),l(83710);var F={class:"ct-grid-item-resize"};function N(e,t,l,i,o,s){return(0,n.wg)(),(0,n.iD)("div",F,[(0,n._)("div",{onMousedown:t[0]||(t[0]=function(e){return s.handleCircleMouseDown(e,l.modelValue,"left")}),class:"circle circle-left ew-resize"},null,32),(0,n._)("div",{onMousedown:t[1]||(t[1]=function(e){return s.handleCircleMouseDown(e,l.modelValue,"right")}),class:"circle circle-right ew-resize"},null,32),(0,n._)("div",{onMousedown:t[2]||(t[2]=function(e){return s.handleCircleMouseDown(e,l.modelValue,"top")}),class:"circle circle-top ns-resize"},null,32),(0,n._)("div",{onMousedown:t[3]||(t[3]=function(e){return s.handleCircleMouseDown(e,l.modelValue,"bottom")}),class:"circle circle-bottom ns-resize"},null,32),(0,n._)("div",{onMousedown:t[4]||(t[4]=function(e){return s.handleCircleMouseDown(e,l.modelValue,"leftTop")}),class:"circle nwse-resize",style:{top:"-10px",left:"-10px"}},null,32),(0,n._)("div",{onMousedown:t[5]||(t[5]=function(e){return s.handleCircleMouseDown(e,l.modelValue,"rightBottom")}),class:"circle nwse-resize",style:{bottom:"-10px",right:"-10px"}},null,32),(0,n._)("div",{onMousedown:t[6]||(t[6]=function(e){return s.handleCircleMouseDown(e,l.modelValue,"leftBottom")}),class:"circle nesw-resize",style:{bottom:"-10px",left:"-10px"}},null,32),(0,n._)("div",{onMousedown:t[7]||(t[7]=function(e){return s.handleCircleMouseDown(e,l.modelValue,"rightTop")}),class:"circle nesw-resize",style:{top:"-10px",right:"-10px"}},null,32)])}l(9653);const q={name:"homepage-resize",props:{modelValue:{type:Object,default:function(){}},isMove:{type:Boolean,default:!1},scale:{type:Number,default:1}},data:function(){return{clientX:0,clientY:0,w:0,h:0,x:0,y:0,isCircleMove:!1}},computed:{scaleVal:function(){return this.scale||1}},methods:{handleCircleMouseDown:function(e,t,l){var n=this;console.log("handleCircleMouseDown"),e.stopPropagation(),this.clientX=e.clientX,this.clientY=e.clientY,this.w=t.w,this.h=t.h,this.x=t.x,this.y=t.y,this.isCircleMove=!0,this.$emit("update:isMove",!0),document.onmousemove=function(e){var i=(n.clientX-e.clientX)/n.scaleVal,o=(n.clientY-e.clientY)/n.scaleVal;return!(i<0&&Math.abs(i)>=n.w)&&(!(o<0&&Math.abs(o)>=n.h)&&void n.handleCircleMouseMove(e,t,l))},document.onmouseup=function(){document.onmousemove=document.onmouseup=null,n.isCircleMove=!1,n.$emit("update:isMove",!1)}},handleCircleMouseMove:function(e,t,l){console.log("handleCircleMouseMove"),this.isCircleMove&&("left"===l&&(t.w=this.w+(this.clientX-e.clientX)/this.scaleVal,t.x=this.x+(e.clientX-this.clientX)/this.scaleVal),"right"===l&&(t.w=this.w+(e.clientX-this.clientX)/this.scaleVal),"top"===l&&(t.h=this.h+(this.clientY-e.clientY)/this.scaleVal,t.y=this.y+(e.clientY-this.clientY)/this.scaleVal),"bottom"===l&&(t.h=this.h+(e.clientY-this.clientY)/this.scaleVal),"leftTop"===l&&(t.w=this.w+(this.clientX-e.clientX)/this.scaleVal,t.x=this.x+(e.clientX-this.clientX)/this.scaleVal,t.h=this.h+(this.clientY-e.clientY)/this.scaleVal,t.y=this.y+(e.clientY-this.clientY)/this.scaleVal),"leftBottom"===l&&(t.w=this.w+(this.clientX-e.clientX)/this.scaleVal,t.x=this.x+(e.clientX-this.clientX)/this.scaleVal,t.h=this.h+(e.clientY-this.clientY)/this.scaleVal),"rightTop"===l&&(t.w=this.w+(e.clientX-this.clientX)/this.scaleVal,t.h=this.h+(this.clientY-e.clientY)/this.scaleVal,t.y=this.y+(e.clientY-this.clientY)/this.scaleVal),"rightBottom"===l&&(t.w=this.w+(e.clientX-this.clientX)/this.scaleVal,t.h=this.h+(e.clientY-this.clientY)/this.scaleVal),this.$emit("update:modelValue",t))}}},E=(0,w.Z)(q,[["render",N],["__scopeId","data-v-16a29480"]]),J=E;var P={class:"ct-grid-item-location"};function Q(e,t,l,o,s,a){return(0,n.wg)(),(0,n.iD)("ul",P,[(0,n._)("li",null,"x："+(0,i.zw)(a.x),1),(0,n._)("li",null,"y："+(0,i.zw)(a.y),1),(0,n._)("li",null,"w："+(0,i.zw)(a.w),1),(0,n._)("li",null,"h："+(0,i.zw)(a.h),1)])}const G={name:"homepage-location",props:{modelValue:{type:Object,default:function(){}}},computed:{x:function(){return Math.round(this.modelValue.x)},y:function(){return Math.round(this.modelValue.y)},w:function(){return Math.round(this.modelValue.w)},h:function(){return Math.round(this.modelValue.h)}}},ee=(0,w.Z)(G,[["render",Q],["__scopeId","data-v-00d4a600"]]),te=ee;function le(e,t,l,o,s,a){return(0,n.wg)(),(0,n.iD)("div",{onTouchstart:t[0]||(t[0]=function(e){return a.handleTouchStart(e,l.modelValue)}),onMousedown:t[1]||(t[1]=function(e){return a.handleMouseDown(e,l.modelValue)}),class:(0,i.C_)(["ct-grid-item","".concat(l.isActive?"active ":"")]),style:(0,i.j5)([{position:"absolute"},{height:"".concat(l.modelValue.h,"px"),width:"".concat(l.modelValue.w,"px"),left:"".concat(l.modelValue.x,"px"),top:"".concat(l.modelValue.y,"px")}])},[(0,n.WI)(e.$slots,"default",{},void 0,!0)],38)}const ne={name:"homepage-drag-item",props:{modelValue:{type:Object,default:function(){}},isMove:{type:Boolean,default:!1},scale:{type:Number,default:1},isActive:{type:Boolean,default:!1}},data:function(){return{clientX:0,clientY:0,x:0,y:0,isItemMove:!1}},computed:{scaleVal:function(){return this.scale||1}},methods:{handleTouchStart:function(e,t){var l=this;this.clientX=e.touches[0].clientX,this.clientY=e.touches[0].clientY,this.x=t.x,this.y=t.y,this.isItemMove=!0,this.$emit("update:isMove",!0),document.ontouchmove=function(e){console.log("ontouchmove"),t.x=l.x+(e.touches[0].clientX-l.clientX)/l.scaleVal,t.y=l.y+(e.touches[0].clientY-l.clientY)/l.scaleVal,l.$emit("update:modelValue",t)},document.ontouchend=function(){document.ontouchmove=document.ontouchend=null,l.isItemMove=!1,l.$emit("update:isMove",!1)}},handleMouseDown:function(e,t){var l=this;if(console.log("handleMouseDown"),!1===this.isActive)return!1;this.clientX=e.clientX,this.clientY=e.clientY,this.x=t.x,this.y=t.y,this.isItemMove=!0,this.$emit("update:isMove",!0),document.onmousemove=function(e){console.log("onmousemove"),t.x=l.x+(e.clientX-l.clientX)/l.scaleVal,t.y=l.y+(e.clientY-l.clientY)/l.scaleVal,l.$emit("update:modelValue",t)},document.onmouseup=function(){document.onmousemove=document.onmouseup=null,l.isItemMove=!1,l.$emit("update:isMove",!1)}}}},ie=(0,w.Z)(ne,[["render",le],["__scopeId","data-v-9e7e4b16"]]),oe=ie,se={name:"homepage-mid",components:{HomepageDragItem:oe,HomepageLocation:te,HomepageResize:J},props:{},setup:function(){var e=k(),t=(0,I.Jk)(e),l=t.scale,n=t.bgColor,i=t.layoutColor,o=t.layoutBorder,s=t.dragstartDom;return{scale:l,bgColor:n,layoutColor:i,layoutBorder:o,dragstartDom:s}},data:function(){return{activeId:"",editItemList:W,isMove:!1,isCircleMove:!1}},watch:{},mounted:function(){var e=this;document.onkeydown=function(t){if(e.activeId&&"Backspace"===t.code){var l=e.editItemList.findIndex((function(t){return t.id===e.activeId}));e.editItemList.splice(l,1)}}},methods:{handleDrop:function(e){var t=this.dragstartDom,l=t.cardId,n=t.w,i=t.h,o=(new Date).getTime();this.editItemList.push({id:o,cardId:l,w:n,h:i,x:e.offsetX,y:e.offsetY}),this.activeId=o},clearActive:function(){this.activeId="",console.log(this.editItemList)}},unmounted:function(){document.onkeydown=null}},ae=(0,w.Z)(se,[["render",K]]),ce=ae;var ue=function(e){return(0,n.dD)("data-v-34140e34"),e=e(),(0,n.Cn)(),e},re=ue((function(){return(0,n._)("div",{class:"page-setting"},"页面设置",-1)}));function de(e,t,l,i,o,s){var a=(0,n.up)("el-input-number"),c=(0,n.up)("el-form-item"),u=(0,n.up)("el-color-picker"),r=(0,n.up)("el-switch"),d=(0,n.up)("el-form");return(0,n.wg)(),(0,n.iD)("div",null,[re,(0,n.Wm)(d,{class:"padding-10px"},{default:(0,n.w5)((function(){return[(0,n.Wm)(c,{label:"屏幕宽度"},{default:(0,n.w5)((function(){return[(0,n.Wm)(a,{modelValue:i.screenWidth,"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.screenWidth=e})},null,8,["modelValue"])]})),_:1}),(0,n.Wm)(c,{label:"屏幕高度"},{default:(0,n.w5)((function(){return[(0,n.Wm)(a,{modelValue:i.screenHeight,"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.screenHeight=e})},null,8,["modelValue"])]})),_:1}),(0,n.Wm)(c,{label:"背景颜色"},{default:(0,n.w5)((function(){return[(0,n.Wm)(u,{modelValue:i.bgColor,"onUpdate:modelValue":t[2]||(t[2]=function(e){return i.bgColor=e}),"show-alpha":""},null,8,["modelValue"])]})),_:1}),(0,n.Wm)(c,{label:"模块颜色"},{default:(0,n.w5)((function(){return[(0,n.Wm)(u,{modelValue:i.layoutColor,"onUpdate:modelValue":t[3]||(t[3]=function(e){return i.layoutColor=e}),"show-alpha":""},null,8,["modelValue"])]})),_:1}),(0,n.Wm)(c,{label:"模块边框"},{default:(0,n.w5)((function(){return[(0,n.Wm)(r,{modelValue:i.layoutBorder,"onUpdate:modelValue":t[4]||(t[4]=function(e){return i.layoutBorder=e})},null,8,["modelValue"])]})),_:1})]})),_:1})])}const me={name:"homepage-right",setup:function(){var e=k(),t=(0,I.Jk)(e),l=t.screenWidth,n=t.screenHeight,i=t.bgColor,o=t.layoutColor,s=t.layoutBorder;return{screenWidth:l,screenHeight:n,bgColor:i,layoutColor:o,layoutBorder:s}}},he=(0,w.Z)(me,[["render",de],["__scopeId","data-v-34140e34"]]),pe=he,fe={name:"HomePage",components:{HomepageRight:pe,HomepageMid:ce,HomepageRules:Z,HomepageLeft:H,HomepageHeader:y},props:{},data:function(){return{isOpenRight:!0,isOpenLeft:!0}},computed:{},methods:{}},ve=(0,w.Z)(fe,[["render",u]]),ge=ve},61650:(e,t,l)=>{var n={"./bar-simple.png":42191,"./line-simple.png":16850,"./pie-simple.png":5010};function i(e){var t=o(e);return l(t)}function o(e){if(!l.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id=61650},42191:(e,t,l)=>{"use strict";e.exports=l.p+"static/img/bar-simple.38018e9b.png"},16850:(e,t,l)=>{"use strict";e.exports=l.p+"static/img/line-simple.eefe79e2.png"},5010:(e,t,l)=>{"use strict";e.exports=l.p+"static/img/pie-simple.562192f3.png"}}]);